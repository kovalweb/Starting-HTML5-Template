!function(P,h){"use strict";function s(y,w,x,e,t){function i(){var o,r,s,a;b=1<P.devicePixelRatio,x=n(x),0<=w.delay&&setTimeout(function(){l(!0)},w.delay),(w.delay<0||w.combined)&&(e.e=(o=w.throttle,r=function(e){"resize"===e.type&&(C=S=-1),l(e.all)},a=0,function(e,t){function i(){a=+new Date,r.call(y,e)}var n=new Date-a;s&&clearTimeout(s),o<n||!w.enableThrottle||t?i():s=setTimeout(i,o-n)}),e.a=function(e){e=n(e),x.push.apply(x,e)},e.g=function(){return x=R(x).filter(function(){return!R(this).data(w.loadedName)})},e.f=function(e){for(var t=0;t<e.length;t++){var i=x.filter(function(){return this===e[t]});i.length&&l(!1,i)}},l(),R(w.appendScroll).on("scroll."+t+" resize."+t,e.e))}function n(e){for(var t=w.defaultImage,i=w.placeholder,n=w.imageBase,o=w.srcsetAttribute,r=w.loaderAttribute,s=w._f||{},a=0,l=(e=R(e).filter(function(){var e=R(this),t=T(this);return!e.data(w.handledName)&&(e.attr(w.attribute)||e.attr(o)||e.attr(r)||s[t]!==h)}).data("plugin_"+w.name,y)).length;a<l;a++){var d=R(e[a]),c=T(e[a]),u=d.attr(w.imageBaseAttribute)||n;c===L&&u&&d.attr(o)&&d.attr(o,p(d.attr(o),u)),s[c]===h||d.attr(r)||d.attr(r,s[c]),c===L&&t&&!d.attr(E)?d.attr(E,t):c===L||!i||d.css(O)&&"none"!==d.css(O)||d.css(O,"url('"+i+"')")}return e}function l(e,t){if(x.length){for(var i=t||x,n=!1,o=w.imageBase||"",r=w.srcsetAttribute,s=w.handledName,a=0;a<i.length;a++)if(e||t||(h=i[a],0,f=h.getBoundingClientRect(),m=w.scrollDirection,g=w.threshold,v=(0<=S?S:S=R(P).height())+g>f.top&&-g<f.bottom,b=(0<=C?C:C=R(P).width())+g>f.left&&-g<f.right,"vertical"===m?v:"horizontal"===m?b:v&&b)){var l=R(i[a]),d=T(i[a]),c=l.attr(w.attribute),u=l.attr(w.imageBaseAttribute)||o,p=l.attr(w.loaderAttribute);l.data(s)||w.visibleOnly&&!l.is(":visible")||!((c||l.attr(r))&&(d===L&&(u+c!==l.attr(E)||l.attr(r)!==l.attr(_))||d!==L&&u+c!==l.css(O))||p)||(n=!0,l.data(s,!0),k(l,d,u,p))}var h,f,m,g,v,b;n&&(x=R(x).filter(function(){return!R(this).data(s)}))}else w.autoDestroy&&y.destroy()}function k(t,e,i,n){++v;var o=function(){g("onError",t),m(),o=R.noop};g("beforeLoad",t);var r=w.attribute,s=w.srcsetAttribute,a=w.sizesAttribute,l=w.retinaAttribute,d=w.removeAttribute,c=w.loadedName,u=t.attr(l);if(n){var p=function(){d&&t.removeAttr(w.loaderAttribute),t.data(c,!0),g(A,t),setTimeout(m,1),p=R.noop};t.off(z).one(z,o).one(F,p),g(n,t,function(e){e?(t.off(F),p()):(t.off(z),o())})||t.trigger(z)}else{var h=R(new Image);h.one(z,o).one(F,function(){t.hide(),e===L?t.attr(N,h.attr(N)).attr(_,h.attr(_)).attr(E,h.attr(E)):t.css(O,"url('"+h.attr(E)+"')"),t[w.effect](w.effectTime),d&&(t.removeAttr(r+" "+s+" "+l+" "+w.imageBaseAttribute),a!==N&&t.removeAttr(a)),t.data(c,!0),g(A,t),h.remove(),m()});var f=(b&&u?u:t.attr(r))||"";h.attr(N,t.attr(a)).attr(_,t.attr(s)).attr(E,f?i+f:null),h.complete&&h.trigger(F)}}function T(e){return e.tagName.toLowerCase()}function p(e,t){if(t){var i=e.split(",");e="";for(var n=0,o=i.length;n<o;n++)e+=t+i[n].trim()+(n!==o-1?",":"")}return e}function m(){--v,x.length||v||g("onFinishedAll")}function g(e,t,i){return(e=w[e])&&(e.apply(y,[].slice.call(arguments,1)),1)}var v=0,C=-1,S=-1,b=!1,A="afterLoad",F="load",z="error",L="img",E="src",_="srcset",N="sizes",O="background-image";"event"===w.bind||o?i():R(P).on(F+"."+t,i)}function d(e,t){var i=this,n=R.extend({},i.config,t),o={},r=n.name+"-"+ ++a;return i.config=function(e,t){return t===h?n[e]:(n[e]=t,i)},i.addItems=function(e){return o.a&&o.a("string"===R.type(e)?R(e):e),i},i.getItems=function(){return o.g?o.g():{}},i.update=function(e){return o.e&&o.e({},!e),i},i.force=function(e){return o.f&&o.f("string"===R.type(e)?R(e):e),i},i.loadAll=function(){return o.e&&o.e({all:!0},!0),i},i.destroy=function(){return R(n.appendScroll).off("."+r,o.e),R(P).off("."+r),o={},h},s(i,n,e,o,r),n.chainable?e:i}var R=P.jQuery||P.Zepto,a=0,o=!1;R.fn.Lazy=R.fn.lazy=function(e){return new d(this,e)},R.Lazy=R.lazy=function(e,t,i){if(R.isFunction(t)&&(i=t,t=[]),R.isFunction(i)){e=R.isArray(e)?e:[e],t=R.isArray(t)?t:[t];for(var n=d.prototype.config,o=n._f||(n._f={}),r=0,s=e.length;r<s;r++)n[e[r]]!==h&&!R.isFunction(n[e[r]])||(n[e[r]]=i);for(var a=0,l=t.length;a<l;a++)o[t[a]]=e[0]}},d.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:P,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:h,afterLoad:h,onError:h,onFinishedAll:h},R(P).on("load",function(){o=!0})}(window),function(F){F.isScrollToFixed=function(e){return!!F(e).data("ScrollToFixed")},F.ScrollToFixed=function(e,t){var r=this;r.$el=F(e),r.el=e,r.$el.data("ScrollToFixed",r);var s,a,i,n,l=!1,d=r.$el,c=0,u=0,p=-1,h=-1,o=null;function f(){var e=r.options.limit;return e?"function"==typeof e?e.apply(d):e:0}function m(){return"fixed"===s}function g(){return"absolute"===s}function v(){return!(m()||g())}function b(){if(!m()){var e=d[0].getBoundingClientRect();o.css({display:d.css("display"),width:e.width,height:e.height,float:d.css("float")}),cssOptions={"z-index":r.options.zIndex,position:"fixed",top:-1==r.options.bottom?k():"",bottom:-1==r.options.bottom?"":r.options.bottom,"margin-left":"0px"},r.options.dontSetWidth||(cssOptions.width=d.css("width")),d.css(cssOptions),d.addClass(r.options.baseClassName),r.options.className&&d.addClass(r.options.className),s="fixed"}}function y(){var e=f(),t=u;r.options.removeOffsets&&(t="",e-=c),cssOptions={position:"absolute",top:e,left:t,"margin-left":"0px",bottom:""},r.options.dontSetWidth||(cssOptions.width=d.css("width")),d.css(cssOptions),s="absolute"}function w(){v()||(h=-1,o.css("display","none"),d.css({"z-index":n,width:"",position:a,left:"",top:i,"margin-left":""}),d.removeClass("scroll-to-fixed-fixed"),r.options.className&&d.removeClass(r.options.className),s=null)}function x(e){e!=h&&(d.css("left",u-e),h=e)}function k(){var e=r.options.marginTop;return e?"function"==typeof e?e.apply(d):e:0}function T(){if(F.isScrollToFixed(d)&&!d.is(":hidden")){var e=l,t=v();l?v()&&(c=d.offset().top,u=d.offset().left):(d.trigger("preUnfixed.ScrollToFixed"),w(),d.trigger("unfixed.ScrollToFixed"),h=-1,c=d.offset().top,u=d.offset().left,r.options.offsets&&(u+=d.offset().left-d.position().left),-1==p&&(p=u),s=d.css("position"),l=!0,-1!=r.options.bottom&&(d.trigger("preFixed.ScrollToFixed"),b(),d.trigger("fixed.ScrollToFixed")));var i=F(window).scrollLeft(),n=F(window).scrollTop(),o=f();r.options.minWidth&&F(window).width()<r.options.minWidth||r.options.maxWidth&&F(window).width()>r.options.maxWidth?v()&&e||(C(),d.trigger("preUnfixed.ScrollToFixed"),w(),d.trigger("unfixed.ScrollToFixed")):-1==r.options.bottom?0<o&&n>=o-k()?t||g()&&e||(C(),d.trigger("preAbsolute.ScrollToFixed"),y(),d.trigger("unfixed.ScrollToFixed")):n>=c-k()?(m()&&e||(C(),d.trigger("preFixed.ScrollToFixed"),b(),h=-1,d.trigger("fixed.ScrollToFixed")),x(i)):v()&&e||(C(),d.trigger("preUnfixed.ScrollToFixed"),w(),d.trigger("unfixed.ScrollToFixed")):0<o?n+F(window).height()-d.outerHeight(!0)>=o-(k()||-(r.options.bottom?r.options.bottom:0))?m()&&(C(),d.trigger("preUnfixed.ScrollToFixed"),("absolute"===a?y:w)(),d.trigger("unfixed.ScrollToFixed")):(m()||(C(),d.trigger("preFixed.ScrollToFixed"),b()),x(i),d.trigger("fixed.ScrollToFixed")):x(i)}}function C(){var e=d.css("position");"absolute"==e?d.trigger("postAbsolute.ScrollToFixed"):"fixed"==e?d.trigger("postFixed.ScrollToFixed"):d.trigger("postUnfixed.ScrollToFixed")}function S(e){d.is(":visible")?(l=!1,T()):w()}function A(e){window.requestAnimationFrame?requestAnimationFrame(T):T()}r.init=function(){r.options=F.extend({},F.ScrollToFixed.defaultOptions,t),n=d.css("z-index"),r.$el.css("z-index",r.options.zIndex),o=F("<div />"),s=d.css("position"),a=d.css("position"),d.css("float"),i=d.css("top"),v()&&r.$el.after(o),F(window).bind("resize.ScrollToFixed",S),F(window).bind("scroll.ScrollToFixed",A),"ontouchmove"in window&&F(window).bind("touchmove.ScrollToFixed",T),r.options.preFixed&&d.bind("preFixed.ScrollToFixed",r.options.preFixed),r.options.postFixed&&d.bind("postFixed.ScrollToFixed",r.options.postFixed),r.options.preUnfixed&&d.bind("preUnfixed.ScrollToFixed",r.options.preUnfixed),r.options.postUnfixed&&d.bind("postUnfixed.ScrollToFixed",r.options.postUnfixed),r.options.preAbsolute&&d.bind("preAbsolute.ScrollToFixed",r.options.preAbsolute),r.options.postAbsolute&&d.bind("postAbsolute.ScrollToFixed",r.options.postAbsolute),r.options.fixed&&d.bind("fixed.ScrollToFixed",r.options.fixed),r.options.unfixed&&d.bind("unfixed.ScrollToFixed",r.options.unfixed),r.options.spacerClass&&o.addClass(r.options.spacerClass),d.bind("resize.ScrollToFixed",function(){o.height(d.height())}),d.bind("scroll.ScrollToFixed",function(){d.trigger("preUnfixed.ScrollToFixed"),w(),d.trigger("unfixed.ScrollToFixed"),T()}),d.bind("detach.ScrollToFixed",function(e){var t;(t=(t=e)||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1,d.trigger("preUnfixed.ScrollToFixed"),w(),d.trigger("unfixed.ScrollToFixed"),F(window).unbind("resize.ScrollToFixed",S),F(window).unbind("scroll.ScrollToFixed",A),d.unbind(".ScrollToFixed"),o.remove(),r.$el.removeData("ScrollToFixed")}),S()},r.init()},F.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"},F.fn.scrollToFixed=function(e){return this.each(function(){new F.ScrollToFixed(this,e)})}}(jQuery),function(p){var h,f,m=p(window),n={},g=[],v=[],b=null,c="_open",y=[],w=null,u=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),x={_init:function(e){var t=p(e),i=t.data("popupoptions");v[e.id]=!1,g[e.id]=0,t.data("popup-initialized")||(t.attr("data-popup-initialized","true"),x._initonce(e)),i.autoopen&&setTimeout(function(){x.show(e,0)},0)},_initonce:function(i){var e,t,n,o,r=p(i),s=p("body"),a=r.data("popupoptions");b=parseInt(s.css("margin-right"),10),w=void 0!==document.body.style.webkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition||void 0!==document.body.style.OTransition||void 0!==document.body.style.transition,"tooltip"==a.type&&(a.background=!1,a.scrolllock=!1),a.backgroundactive&&(a.background=!1,a.blur=!1,a.scrolllock=!1),!a.scrolllock||void 0===h&&(o=(n=p('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body")).children(),h=o.innerWidth()-o.height(99).innerWidth(),n.remove());if(r.attr("id")||r.attr("id","j-popup-"+parseInt(1e8*Math.random(),10)),r.addClass("popup_content"),a.background&&!p("#"+i.id+"_background").length){s.append('<div id="'+i.id+'_background" class="popup_background"></div>');var l=p("#"+i.id+"_background");l.css({opacity:0,visibility:"hidden",backgroundColor:a.color,position:"fixed",top:0,right:0,bottom:0,left:0}),a.setzindex&&!a.autozindex&&l.css("z-index","100000"),a.transition&&l.css("transition",a.transition)}s.append(i),r.wrap('<div id="'+i.id+'_wrapper" class="popup_wrapper" />'),(e=p("#"+i.id+"_wrapper")).css({opacity:0,visibility:"hidden",position:"absolute"}),u&&e.css("cursor","pointer"),"overlay"==a.type&&e.css("overflow","auto"),r.css({opacity:0,visibility:"hidden",display:"inline-block"}),a.setzindex&&!a.autozindex&&e.css("z-index","100001"),a.outline||r.css("outline","none"),a.transition&&(r.css("transition",a.transition),e.css("transition",a.transition)),r.attr("aria-hidden",!0),"overlay"==a.type&&(r.css({textAlign:"left",position:"relative",verticalAlign:"middle"}),t={position:"fixed",width:"100%",height:"100%",top:0,left:0,textAlign:"center"},a.backgroundactive&&(t.position="absolute",t.height="0",t.overflow="visible"),e.css(t),e.append('<div class="popup_align" />'),p(".popup_align").css({display:"inline-block",verticalAlign:"middle",height:"100%"})),r.attr("role","dialog");var d=a.openelement?a.openelement:"."+i.id+c;p(d).each(function(e,t){p(t).attr("data-popup-ordinal",e),t.id||p(t).attr("id","open_"+parseInt(1e8*Math.random(),10))}),r.attr("aria-labelledby")||r.attr("aria-label")||r.attr("aria-labelledby",p(d).attr("id")),"hover"==a.action?(a.keepfocus=!1,p(d).on("mouseenter",function(e){x.show(i,p(this).data("popup-ordinal"))}),p(d).on("mouseleave",function(e){x.hide(i)})):p(document).on("click",d,function(e){e.preventDefault();var t=p(this).data("popup-ordinal");setTimeout(function(){x.show(i,t)},0)}),a.closebutton&&x.addclosebutton(i),a.detach?r.hide().detach():e.hide()},show:function(e,t){var i=p(e);if(!i.data("popup-visible")){i.data("popup-initialized")||x._init(e),i.attr("data-popup-initialized","true");var n=p("body"),o=i.data("popupoptions"),r=p("#"+e.id+"_wrapper"),s=p("#"+e.id+"_background");if(k(e,t,o.beforeopen),v[e.id]=t,setTimeout(function(){y.push(e.id)},0),o.autozindex){for(var a=document.getElementsByTagName("*"),l=a.length,d=0,c=0;c<l;c++){var u=p(a[c]).css("z-index");"auto"!==u&&d<(u=parseInt(u,10))&&(d=u)}g[e.id]=d,o.background&&0<g[e.id]&&p("#"+e.id+"_background").css({zIndex:g[e.id]+1}),0<g[e.id]&&r.css({zIndex:g[e.id]+2})}o.detach?(r.prepend(e),i.show()):r.show(),f=setTimeout(function(){r.css({visibility:"visible",opacity:1}),p("html").addClass("popup_visible").addClass("popup_visible_"+e.id),r.addClass("popup_wrapper_visible")},20),o.scrolllock&&(n.css("overflow","hidden"),n.height()>m.height()&&n.css("margin-right",b+h)),o.backgroundactive&&i.css({top:(m.height()-(i.get(0).offsetHeight+parseInt(i.css("margin-top"),10)+parseInt(i.css("margin-bottom"),10)))/2+"px"}),i.css({visibility:"visible",opacity:1}),o.background&&(s.css({visibility:"visible",opacity:o.opacity}),setTimeout(function(){s.css({opacity:o.opacity})},0)),i.data("popup-visible",!0),x.reposition(e,t),i.data("focusedelementbeforepopup",document.activeElement),o.keepfocus&&(i.attr("tabindex",-1),setTimeout(function(){"closebutton"===o.focuselement?p("#"+e.id+" ."+e.id+"_close:first").focus():o.focuselement?p(o.focuselement).focus():i.focus()},o.focusdelay)),p(o.pagecontainer).attr("aria-hidden",!0),i.attr("aria-hidden",!1),k(e,t,o.onopen),w?r.one("transitionend",function(){k(e,t,o.opentransitionend)}):k(e,t,o.opentransitionend),"tooltip"==o.type&&p(window).on("resize."+e.id,function(){x.reposition(e,t)})}},hide:function(t,e){var i=p.inArray(t.id,y);if(-1!==i){f&&clearTimeout(f);var n=p("body"),o=p(t),r=o.data("popupoptions"),s=p("#"+t.id+"_wrapper"),a=p("#"+t.id+"_background");o.data("popup-visible",!1),1===y.length?p("html").removeClass("popup_visible").removeClass("popup_visible_"+t.id):p("html").hasClass("popup_visible_"+t.id)&&p("html").removeClass("popup_visible_"+t.id),y.splice(i,1),s.hasClass("popup_wrapper_visible")&&s.removeClass("popup_wrapper_visible"),r.keepfocus&&!e&&setTimeout(function(){p(o.data("focusedelementbeforepopup")).is(":visible")&&o.data("focusedelementbeforepopup").focus()},0),s.css({visibility:"hidden",opacity:0}),o.css({visibility:"hidden",opacity:0}),r.background&&a.css({visibility:"hidden",opacity:0}),p(r.pagecontainer).attr("aria-hidden",!1),o.attr("aria-hidden",!0),k(t,v[t.id],r.onclose),w&&"0s"!==o.css("transition-duration")?o.one("transitionend",function(e){o.data("popup-visible")||(r.detach?o.hide().detach():s.hide()),r.scrolllock&&setTimeout(function(){n.css({overflow:"visible","margin-right":b})},10),k(t,v[t.id],r.closetransitionend)}):(r.detach?o.hide().detach():s.hide(),r.scrolllock&&setTimeout(function(){n.css({overflow:"visible","margin-right":b})},10),k(t,v[t.id],r.closetransitionend)),"tooltip"==r.type&&p(window).off("resize."+t.id)}},toggle:function(e,t){p(e).data("popup-visible")?x.hide(e):setTimeout(function(){x.show(e,t)},0)},reposition:function(e,t){var i=p(e),n=i.data("popupoptions"),o=p("#"+e.id+"_wrapper");p("#"+e.id+"_background");if(t=t||0,"tooltip"==n.type){var r;o.css({position:"absolute"});var s=(r=n.tooltipanchor?p(n.tooltipanchor):n.openelement?p(n.openelement).filter('[data-popup-ordinal="'+t+'"]'):p("."+e.id+c+'[data-popup-ordinal="'+t+'"]')).offset();"right"==n.horizontal?o.css("left",s.left+r.outerWidth()+n.offsetleft):"leftedge"==n.horizontal?o.css("left",s.left+r.outerWidth()-r.outerWidth()+n.offsetleft):"left"==n.horizontal?o.css("right",m.width()-s.left-n.offsetleft):"rightedge"==n.horizontal?o.css("right",m.width()-s.left-r.outerWidth()-n.offsetleft):o.css("left",s.left+r.outerWidth()/2-i.outerWidth()/2-parseFloat(i.css("marginLeft"))+n.offsetleft),"bottom"==n.vertical?o.css("top",s.top+r.outerHeight()+n.offsettop):"bottomedge"==n.vertical?o.css("top",s.top+r.outerHeight()-i.outerHeight()+n.offsettop):"top"==n.vertical?o.css("bottom",m.height()-s.top-n.offsettop):"topedge"==n.vertical?o.css("bottom",m.height()-s.top-i.outerHeight()-n.offsettop):o.css("top",s.top+r.outerHeight()/2-i.outerHeight()/2-parseFloat(i.css("marginTop"))+n.offsettop)}else"overlay"==n.type&&(n.horizontal?o.css("text-align",n.horizontal):o.css("text-align","center"),n.vertical?i.css("vertical-align",n.vertical):i.css("vertical-align","middle"))},addclosebutton:function(e){var t;t=p(e).data("popupoptions").closebuttonmarkup?p(n.closebuttonmarkup).addClass(e.id+"_close"):'<button class="popup_close '+e.id+'_close" title="Close" aria-label="Close"><span aria-hidden="true">Ã—</span></button>',p(e).data("popup-initialized")&&p(e).append(t)}},k=function(e,t,i){var n,o,r=p(e).data("popupoptions");void 0!==r&&(n=r.openelement?r.openelement:"."+e.id+c,o=p(n+'[data-popup-ordinal="'+t+'"]'),"function"==typeof i&&i.call(p(e),e,o))};p(document).on("keydown",function(e){if(y.length){var t=y[y.length-1],i=document.getElementById(t);p(i).data("popupoptions").escape&&27==e.keyCode&&x.hide(i)}}),p(document).on("click",function(e){if(y.length){var t=y[y.length-1],i=document.getElementById(t),n=p(i).data("popupoptions").closeelement?p(i).data("popupoptions").closeelement:"."+i.id+"_close";p(e.target).closest(n).length&&(e.preventDefault(),x.hide(i)),p(i).data("popupoptions")&&p(i).data("popupoptions").blur&&!p(e.target).closest("#"+t).length&&2!==e.which&&p(e.target).is(":visible")&&(p(i).data("popupoptions").background?(x.hide(i),e.preventDefault()):x.hide(i,!0))}}),p(document).on("keydown",function(e){if(y.length&&9==e.which){var t=y[y.length-1],i=document.getElementById(t),n=p(i).find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible"),o=p(":focus"),r=n.length,s=n.index(o);0===r?(p(i).focus(),e.preventDefault()):e.shiftKey?0===s&&(n.get(r-1).focus(),e.preventDefault()):s==r-1&&(n.get(0).focus(),e.preventDefault())}}),p.fn.popup=function(i){return this.each(function(){var e=p(this);if("object"==typeof i){var t=p.extend({},p.fn.popup.defaults,e.data("popupoptions"),i);e.data("popupoptions",t),n=e.data("popupoptions"),x._init(this)}else"string"==typeof i?(e.data("popupoptions")||(e.data("popupoptions",p.fn.popup.defaults),n=e.data("popupoptions")),x[i].call(this,this)):(e.data("popupoptions")||(e.data("popupoptions",p.fn.popup.defaults),n=e.data("popupoptions")),x._init(this))})},p.fn.popup.defaults={type:"overlay",autoopen:!1,background:!0,backgroundactive:!1,color:"black",opacity:"0.5",horizontal:"center",vertical:"middle",offsettop:0,offsetleft:0,escape:!0,blur:!0,setzindex:!0,autozindex:!1,scrolllock:!1,closebutton:!1,closebuttonmarkup:null,keepfocus:!0,focuselement:null,focusdelay:50,outline:!1,pagecontainer:null,detach:!1,openelement:null,closeelement:null,transition:null,tooltipanchor:null,beforeopen:null,onclose:null,onopen:null,opentransitionend:null,closetransitionend:null}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){var i;c.extend(c.fn,{validate:function(e){if(this.length){var n=c.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new c.validator(e,this[0]),c.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.submitButton=e.currentTarget,c(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==c(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(i){function e(){var e,t;return n.submitButton&&(n.settings.submitHandler||n.formSubmitted)&&(e=c("<input type='hidden'/>").attr("name",n.submitButton.name).val(c(n.submitButton).val()).appendTo(n.currentForm)),!(n.settings.submitHandler&&!n.settings.debug)||(t=n.settings.submitHandler.call(n,n.currentForm,i),e&&e.remove(),void 0!==t&&t)}return n.settings.debug&&i.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,e()):n.form()?n.pendingRequest?!(n.formSubmitted=!0):e():(n.focusInvalid(),!1)})),n)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,i;return c(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,t=c(this[0].form).validate(),this.each(function(){(e=t.element(this)&&e)||(i=i.concat(t.errorList))}),t.errorList=i),e},rules:function(e,t){var i,n,o,r,s,a,l=this[0],d=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=l&&(!l.form&&d&&(l.form=this.closest("form")[0],l.name=this.attr("name")),null!=l.form)){if(e)switch(i=c.data(l.form,"validator").settings,n=i.rules,o=c.validator.staticRules(l),e){case"add":c.extend(o,c.validator.normalizeRule(t)),delete o.messages,n[l.name]=o,t.messages&&(i.messages[l.name]=c.extend(i.messages[l.name],t.messages));break;case"remove":return t?(a={},c.each(t.split(/\s/),function(e,t){a[t]=o[t],delete o[t]}),a):(delete n[l.name],o)}return(r=c.validator.normalizeRules(c.extend({},c.validator.classRules(l),c.validator.attributeRules(l),c.validator.dataRules(l),c.validator.staticRules(l)),l)).required&&(s=r.required,delete r.required,r=c.extend({required:s},r)),r.remote&&(s=r.remote,delete r.remote,r=c.extend(r,{remote:s})),r}}}),c.extend(c.expr.pseudos||c.expr[":"],{blank:function(e){return!c.trim(""+c(e).val())},filled:function(e){var t=c(e).val();return null!==t&&!!c.trim(""+t)},unchecked:function(e){return!c(e).prop("checked")}}),c.validator=function(e,t){this.settings=c.extend(!0,{},c.validator.defaults,e),this.currentForm=t,this.init()},c.validator.format=function(i,e){return 1===arguments.length?function(){var e=c.makeArray(arguments);return e.unshift(i),c.validator.format.apply(this,e)}:(void 0===e||(2<arguments.length&&e.constructor!==Array&&(e=c.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),c.each(e,function(e,t){i=i.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})})),i)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==c.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,i){"radio"===e.type?this.findByName(e.name).addClass(t).removeClass(i):c(e).addClass(t).removeClass(i)},unhighlight:function(e,t,i){"radio"===e.type?this.findByName(e.name).removeClass(t).addClass(i):c(e).removeClass(t).addClass(i)}},setDefaults:function(e){c.extend(c.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");if(!this.form&&t&&(this.form=c(this).closest("form")[0],this.name=c(this).attr("name")),r===this.form){var i=c.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),o=i.settings;o[n]&&!c(this).is(o.ignore)&&o[n].call(i,this,e)}}this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,r=this.currentForm,n=this.groups={};c.each(this.settings.groups,function(i,e){"string"==typeof e&&(e=e.split(/\s/)),c.each(e,function(e,t){n[t]=i})}),i=this.settings.rules,c.each(i,function(e,t){i[e]=c.validator.normalizeRule(t)}),c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t,i,n=this.clean(e),o=this.validationTargetFor(n),r=this,s=!0;return void 0===o?delete this.invalid[n.name]:(this.prepareElement(o),this.currentElements=c(o),(i=this.groups[o.name])&&c.each(this.groups,function(e,t){t===i&&e!==o.name&&((n=r.validationTargetFor(r.clean(r.findByName(e))))&&n.name in r.invalid&&(r.currentElements.push(n),s=r.check(n)&&s))}),t=!1!==this.check(o),s=s&&t,this.invalid[o.name]=!t,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c(e).attr("aria-invalid",!t)),s},showErrors:function(t){if(t){var i=this;c.extend(this.errorMap,t),this.errorList=c.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=c.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===c.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var i=this,n={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||c(this).attr("name"),t=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");return!e&&i.settings.debug&&window.console&&console.error("%o has no name assigned",this),t&&(this.form=c(this).closest("form")[0],this.name=e),!(this.form!==i.currentForm||e in n||!i.objectLength(c(this).rules())||(n[e]=!0,0))})},clean:function(e){return c(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([])},reset:function(){this.resetInternals(),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t,i,n=c(e),o=e.type,r=void 0!==n.attr("contenteditable")&&"false"!==n.attr("contenteditable");return"radio"===o||"checkbox"===o?this.findByName(e.name).filter(":checked").val():"number"===o&&void 0!==e.validity?e.validity.badInput?"NaN":n.val():(t=r?n.text():n.val(),"file"===o?"C:\\fakepath\\"===t.substr(0,12)?t.substr(12):0<=(i=t.lastIndexOf("/"))?t.substr(i+1):0<=(i=t.lastIndexOf("\\"))?t.substr(i+1):t:"string"==typeof t?t.replace(/\r/g,""):t)},check:function(t){t=this.validationTargetFor(this.clean(t));var e,i,n,o,r=c(t).rules(),s=c.map(r,function(e,t){return t}).length,a=!1,l=this.elementValue(t);for(i in"function"==typeof r.normalizer?o=r.normalizer:"function"==typeof this.settings.normalizer&&(o=this.settings.normalizer),o&&(l=o.call(t,l),delete r.normalizer),r){n={method:i,parameters:r[i]};try{if("dependency-mismatch"===(e=c.validator.methods[i].call(this,l,t,n.parameters))&&1===s){a=!0;continue}if(a=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,n),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+n.method+"' method."),e}}if(!a)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(e,t){return c(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||c(e).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){"string"==typeof t&&(t={method:t});var i=this.findDefined(this.customMessage(e.name,t.method),this.customDataMessage(e,t.method),!this.settings.ignoreTitle&&e.title||void 0,c.validator.messages[t.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,t.parameters,e):n.test(i)&&(i=c.validator.format(i.replace(n,"{$1}"),t.parameters)),i},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var i,n,o,r,s=this.errorsFor(e),a=this.idOrName(e),l=c(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(t)):(i=s=c("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,c(e)):i.insertAfter(e),s.is("label")?s.attr("for",a):0===s.parents("label[for='"+this.escapeCssMeta(a)+"']").length&&(o=s.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(l+=" "+o):l=o,c(e).attr("aria-describedby",l),(n=this.groups[e.name])&&(r=this,c.each(r.groups,function(e,t){t===n&&c("[name='"+r.escapeCssMeta(e)+"']",r.currentForm).attr("aria-describedby",s.attr("id"))})))),!t&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var t=this.escapeCssMeta(this.idOrName(e)),i=c(e).attr("aria-describedby"),n="label[for='"+t+"'], label[for='"+t+"'] *";return i&&(n=n+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(n)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),c(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return c(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return c("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!c(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!c.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,c(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],c(e).removeClass(this.settings.pendingClass),t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.submitButton&&c("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,t){return t="string"==typeof t&&t||"remote",c.data(e,"previousValue")||c.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:t})})},destroy:function(){this.resetForm(),c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:c.extend(this.classRuleSettings,e)},classRules:function(e){var t={},i=c(e).attr("class");return i&&c.each(i.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(t,c.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,i,n){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?e[i]=n:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(e){var t,i,n={},o=c(e),r=e.getAttribute("type");for(t in c.validator.methods)i="required"===t?(""===(i=e.getAttribute(t))&&(i=!0),!!i):o.attr(t),this.normalizeAttributeRule(n,r,t,i);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(e){var t,i,n={},o=c(e),r=e.getAttribute("type");for(t in c.validator.methods)""===(i=o.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()))&&(i=!0),this.normalizeAttributeRule(n,r,t,i);return n},staticRules:function(e){var t={},i=c.data(e.form,"validator");return i.settings.rules&&(t=c.validator.normalizeRule(i.settings.rules[e.name])||{}),t},normalizeRules:function(n,o){return c.each(n,function(e,t){if(!1!==t){if(t.param||t.depends){var i=!0;switch(typeof t.depends){case"string":i=!!c(t.depends,o.form).length;break;case"function":i=t.depends.call(o,o)}i?n[e]=void 0===t.param||t.param:(c.data(o.form,"validator").resetElements(c(o)),delete n[e])}}else delete n[e]}),c.each(n,function(e,t){n[e]=c.isFunction(t)&&"normalizer"!==e?t(o):t}),c.each(["minlength","maxlength"],function(){n[this]&&(n[this]=Number(n[this]))}),c.each(["rangelength","range"],function(){var e;n[this]&&(c.isArray(n[this])?n[this]=[Number(n[this][0]),Number(n[this][1])]:"string"==typeof n[this]&&(e=n[this].replace(/[\[\]]/g,"").split(/[\s,]+/),n[this]=[Number(e[0]),Number(e[1])]))}),c.validator.autoCreateRanges&&(null!=n.min&&null!=n.max&&(n.range=[n.min,n.max],delete n.min,delete n.max),null!=n.minlength&&null!=n.maxlength&&(n.rangelength=[n.minlength,n.maxlength],delete n.minlength,delete n.maxlength)),n},normalizeRule:function(e){if("string"==typeof e){var t={};c.each(e.split(/\s/),function(){t[this]=!0}),e=t}return e},addMethod:function(e,t,i){c.validator.methods[e]=t,c.validator.messages[e]=void 0!==i?i:c.validator.messages[e],t.length<3&&c.validator.addClassRules(e,c.validator.normalizeRule(e))},methods:{required:function(e,t,i){if(!this.depend(i,t))return"dependency-mismatch";if("select"!==t.nodeName.toLowerCase())return this.checkable(t)?0<this.getLength(e,t):null!=e&&0<e.length;var n=c(t).val();return n&&0<n.length},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:(i=!1,function(e,t){return i||(i=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())}),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,i){var n=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=n},maxlength:function(e,t,i){var n=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||n<=i},rangelength:function(e,t,i){var n=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||n>=i[0]&&n<=i[1]},min:function(e,t,i){return this.optional(t)||i<=e},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(e,t,i){function n(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0}function o(e){return Math.round(e*Math.pow(10,r))}var r,s=c(t).attr("type"),a="Step attribute on input type "+s+" is not supported.",l=new RegExp("\\b"+s+"\\b"),d=!0;if(s&&!l.test(["text","number","range"].join()))throw new Error(a);return r=n(i),(n(e)>r||o(e)%o(i)!=0)&&(d=!1),this.optional(t)||d},equalTo:function(e,t,i){var n=c(i);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(t).valid()}),e===n.val()},remote:function(r,s,e,a){if(this.optional(s))return"dependency-mismatch";a="string"==typeof a&&a||"remote";var l,t,i,d=this.previousValue(s,a);return this.settings.messages[s.name]||(this.settings.messages[s.name]={}),d.originalMessage=d.originalMessage||this.settings.messages[s.name][a],this.settings.messages[s.name][a]=d.message,e="string"==typeof e?{url:e}:e,i=c.param(c.extend({data:r},e.data)),d.old===i?d.valid:(d.old=i,(l=this).startRequest(s),(t={})[s.name]=r,c.ajax(c.extend(!0,{mode:"abort",port:"validate"+s.name,dataType:"json",data:t,context:l.currentForm,success:function(e){var t,i,n,o=!0===e||"true"===e;l.settings.messages[s.name][a]=d.originalMessage,o?(n=l.formSubmitted,l.resetInternals(),l.toHide=l.errorsFor(s),l.formSubmitted=n,l.successList.push(s),l.invalid[s.name]=!1,l.showErrors()):(t={},i=e||l.defaultMessage(s,{method:a,parameters:r}),t[s.name]=d.message=i,l.invalid[s.name]=!0,l.showErrors(t)),d.valid=o,l.stopRequest(s,o)}},e)),"pending")}}});var n,o={};return c.ajaxPrefilter?c.ajaxPrefilter(function(e,t,i){var n=e.port;"abort"===e.mode&&(o[n]&&o[n].abort(),o[n]=i)}):(n=c.ajax,c.ajax=function(e){var t=("mode"in e?e:c.ajaxSettings).mode,i=("port"in e?e:c.ajaxSettings).port;return"abort"===t?(o[i]&&o[i].abort(),o[i]=n.apply(this,arguments),o[i]):n.apply(this,arguments)}),c}),function(d){d.fn.ihavecookies=function(e,t){var i=d(this),n=d.extend({cookieTypes:[{type:"Site Preferences",value:"preferences",description:"These are cookies that are related to your site preferences, e.g. remembering your username, site colours, etc."},{type:"Analytics",value:"analytics",description:"Cookies related to site visits, browser types, etc."},{type:"Marketing",value:"marketing",description:"Cookies related to marketing, e.g. newsletters, social media, etc"}],title:"Cookies & Privacy",message:"Cookies enable you to use shopping carts and to personalize your experience on our sites, tell us which parts of our websites people have visited, help us measure the effectiveness of ads and web searches, and give us insights into user behavior so we can improve our communications and products.",link:"/privacy-policy",delay:2e3,expires:30,moreInfoLabel:"More information",acceptBtnLabel:"Accept Cookies",advancedBtnLabel:"Customise Cookies",cookieTypesTitle:"Select cookies to accept",fixedCookieTypeLabel:"Necessary",fixedCookieTypeDesc:"These are cookies that are essential for the website to work correctly.",onAccept:function(){},uncheckBoxes:!1},e),o=p("cookieControl"),r=p("cookieControlPrefs");if(o&&r&&"reinit"!=t){var s=!0;"false"==o&&(s=!1),c(s,n.expires)}else{d("#gdpr-cookie-message").remove();var a='<li><input type="checkbox" name="gdpr[]" value="necessary" checked="checked" disabled="disabled"> <label title="'+n.fixedCookieTypeDesc+'">'+n.fixedCookieTypeLabel+"</label></li>";preferences=JSON.parse(r),d.each(n.cookieTypes,function(e,t){if(""!==t.type&&""!==t.value){var i="";!1!==t.description&&(i=' title="'+t.description+'"'),a+='<li><input type="checkbox" id="gdpr-cookietype-'+t.value+'" name="gdpr[]" value="'+t.value+'" data-auto="on"> <label for="gdpr-cookietype-'+t.value+'"'+i+">"+t.type+"</label></li>"}});var l='<div id="gdpr-cookie-message"><h4>'+n.title+"</h4><p>"+n.message+' <a href="'+n.link+'">'+n.moreInfoLabel+'</a><div id="gdpr-cookie-types" style="display:none;"><h5>'+n.cookieTypesTitle+"</h5><ul>"+a+'</ul></div><p><button id="gdpr-cookie-accept" type="button">'+n.acceptBtnLabel+'</button><button id="gdpr-cookie-advanced" type="button">'+n.advancedBtnLabel+"</button></p></div>";setTimeout(function(){d(i).append(l),d("#gdpr-cookie-message").hide().fadeIn("slow",function(){"reinit"==t&&(d("#gdpr-cookie-advanced").trigger("click"),d.each(preferences,function(e,t){d("input#gdpr-cookietype-"+t).prop("checked",!0)}))})},n.delay),d("body").on("click","#gdpr-cookie-accept",function(){c(!0,n.expires),d('input[name="gdpr[]"][data-auto="on"]').prop("checked",!0);var i=[];d.each(d('input[name="gdpr[]"]').serializeArray(),function(e,t){i.push(t.value)}),u("cookieControlPrefs",JSON.stringify(i),365),n.onAccept.call(this)}),d("body").on("click","#gdpr-cookie-advanced",function(){d('input[name="gdpr[]"]:not(:disabled)').attr("data-auto","off").prop("checked",!1),d("#gdpr-cookie-types").slideDown("fast",function(){d("#gdpr-cookie-advanced").prop("disabled",!0)})})}!0===n.uncheckBoxes&&d('input[type="checkbox"].ihavecookies').prop("checked",!1)},d.fn.ihavecookies.cookie=function(){var e=p("cookieControlPrefs");return JSON.parse(e)},d.fn.ihavecookies.preference=function(e){var t=p("cookieControl"),i=p("cookieControlPrefs");return i=JSON.parse(i),!1!==t&&!1!==i&&-1!==i.indexOf(e)};var c=function(e,t){u("cookieControl",e,t),d("#gdpr-cookie-message").fadeOut("fast",function(){d(this).remove()})},u=function(e,t,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var o="expires="+n.toUTCString();return document.cookie=e+"="+t+";"+o+";path=/",p(e)},p=function(e){for(var t=e+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return!1}}(jQuery),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.device=t():e.device=t()}(window,function(){return(n={},o.m=i=[function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";i.r(t);var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=window.device,r={},s=[];window.device=r;var a=window.document.documentElement,l=window.navigator.userAgent.toLowerCase(),d=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function c(e,t){return-1!==e.indexOf(t)}function u(e){return c(l,e)}function p(e){return a.className.match(new RegExp(e,"i"))}function h(e){var t=null;p(e)||(t=a.className.replace(/^\s+|\s+$/g,""),a.className=t+" "+e)}function f(e){p(e)&&(a.className=a.className.replace(" "+e,""))}function m(){r.landscape()?(f("portrait"),h("landscape"),g("landscape")):(f("landscape"),h("portrait"),g("portrait")),y()}function g(e){for(var t in s)s[t](e)}r.macos=function(){return u("mac")},r.ios=function(){return r.iphone()||r.ipod()||r.ipad()},r.iphone=function(){return!r.windows()&&u("iphone")},r.ipod=function(){return u("ipod")},r.ipad=function(){var e="MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;return u("ipad")||e},r.android=function(){return!r.windows()&&u("android")},r.androidPhone=function(){return r.android()&&u("mobile")},r.androidTablet=function(){return r.android()&&!u("mobile")},r.blackberry=function(){return u("blackberry")||u("bb10")||u("rim")},r.blackberryPhone=function(){return r.blackberry()&&!u("tablet")},r.blackberryTablet=function(){return r.blackberry()&&u("tablet")},r.windows=function(){return u("windows")},r.windowsPhone=function(){return r.windows()&&u("phone")},r.windowsTablet=function(){return r.windows()&&u("touch")&&!r.windowsPhone()},r.fxos=function(){return(u("(mobile")||u("(tablet"))&&u(" rv:")},r.fxosPhone=function(){return r.fxos()&&u("mobile")},r.fxosTablet=function(){return r.fxos()&&u("tablet")},r.meego=function(){return u("meego")},r.cordova=function(){return window.cordova&&"file:"===location.protocol},r.nodeWebkit=function(){return"object"===n(window.process)},r.mobile=function(){return r.androidPhone()||r.iphone()||r.ipod()||r.windowsPhone()||r.blackberryPhone()||r.fxosPhone()||r.meego()},r.tablet=function(){return r.ipad()||r.androidTablet()||r.blackberryTablet()||r.windowsTablet()||r.fxosTablet()},r.desktop=function(){return!r.tablet()&&!r.mobile()},r.television=function(){for(var e=0;e<d.length;){if(u(d[e]))return!0;e++}return!1},r.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?c(screen.orientation.type,"portrait"):r.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90!==Math.abs(window.orientation):1<window.innerHeight/window.innerWidth},r.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?c(screen.orientation.type,"landscape"):r.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90===Math.abs(window.orientation):window.innerHeight/window.innerWidth<1},r.noConflict=function(){return window.device=o,this},r.ios()?r.ipad()?h("ios ipad tablet"):r.iphone()?h("ios iphone mobile"):r.ipod()&&h("ios ipod mobile"):r.macos()?h("macos desktop"):r.android()?r.androidTablet()?h("android tablet"):h("android mobile"):r.blackberry()?r.blackberryTablet()?h("blackberry tablet"):h("blackberry mobile"):r.windows()?r.windowsTablet()?h("windows tablet"):r.windowsPhone()?h("windows mobile"):h("windows desktop"):r.fxos()?r.fxosTablet()?h("fxos tablet"):h("fxos mobile"):r.meego()?h("meego mobile"):r.nodeWebkit()?h("node-webkit"):r.television()?h("television"):r.desktop()&&h("desktop"),r.cordova()&&h("cordova"),r.onChangeOrientation=function(e){"function"==typeof e&&s.push(e)};var v="resize";function b(e){for(var t=0;t<e.length;t++)if(r[e[t]]())return e[t];return"unknown"}function y(){r.orientation=b(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(v="orientationchange"),window.addEventListener?window.addEventListener(v,m,!1):window.attachEvent?window.attachEvent(v,m):window[v]=m,m(),r.type=b(["mobile","tablet","desktop"]),r.os=b(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),y(),t.default=r}],o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)).default;function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var i,n});