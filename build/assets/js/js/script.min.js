!function(q,h){"use strict";function r(y,x,w,e,t){function i(){b=1<q.devicePixelRatio,w=n(w),0<=x.delay&&setTimeout(function(){o(!0)},x.delay),(x.delay<0||x.combined)&&(e.e=function(o,s){var r,a=0;return function(e,t){function i(){a=+new Date,s.call(y,e)}var n=+new Date-a;r&&clearTimeout(r),o<n||!x.enableThrottle||t?i():r=setTimeout(i,o-n)}}(x.throttle,function(e){"resize"===e.type&&(C=A=-1),o(e.all)}),e.a=function(e){e=n(e),w.push.apply(w,e)},e.g=function(){return w=I(w).filter(function(){return!I(this).data(x.loadedName)})},e.f=function(e){for(var t=0;t<e.length;t++){var i=w.filter(function(){return this===e[t]});i.length&&o(!1,i)}},o(),I(x.appendScroll).on("scroll."+t+" resize."+t,e.e))}function n(e){for(var t=x.defaultImage,i=x.placeholder,n=x.imageBase,o=x.srcsetAttribute,s=x.loaderAttribute,r=x._f||{},a=0,l=(e=I(e).filter(function(){var e=I(this),t=T(this);return!e.data(x.handledName)&&(e.attr(x.attribute)||e.attr(o)||e.attr(s)||r[t]!==h)}).data("plugin_"+x.name,y)).length;a<l;a++){var d=I(e[a]),c=T(e[a]),u=d.attr(x.imageBaseAttribute)||n;c===L&&u&&d.attr(o)&&d.attr(o,p(d.attr(o),u)),r[c]===h||d.attr(s)||d.attr(s,r[c]),c===L&&t&&!d.attr(E)?d.attr(E,t):c===L||!i||d.css(R)&&"none"!==d.css(R)||d.css(R,"url('"+i+"')")}return e}function o(e,t){if(w.length){for(var i=t||w,n=!1,o=x.imageBase||"",s=x.srcsetAttribute,r=x.handledName,a=0;a<i.length;a++)if(e||t||(h=i[a],void 0,f=h.getBoundingClientRect(),m=x.scrollDirection,g=x.threshold,v=(0<=A?A:A=I(q).height())+g>f.top&&-g<f.bottom,b=(0<=C?C:C=I(q).width())+g>f.left&&-g<f.right,"vertical"===m?v:"horizontal"===m?b:v&&b)){var l=I(i[a]),d=T(i[a]),c=l.attr(x.attribute),u=l.attr(x.imageBaseAttribute)||o,p=l.attr(x.loaderAttribute);l.data(r)||x.visibleOnly&&!l.is(":visible")||!((c||l.attr(s))&&(d===L&&(u+c!==l.attr(E)||l.attr(s)!==l.attr(N))||d!==L&&u+c!==l.css(R))||p)||(n=!0,l.data(r,!0),k(l,d,u,p))}var h,f,m,g,v,b;n&&(w=I(w).filter(function(){return!I(this).data(r)}))}else x.autoDestroy&&y.destroy()}function k(t,e,i,n){++v;var o=function(){g("onError",t),m(),o=I.noop};g("beforeLoad",t);var s=x.attribute,r=x.srcsetAttribute,a=x.sizesAttribute,l=x.retinaAttribute,d=x.removeAttribute,c=x.loadedName,u=t.attr(l);if(n){var p=function(){d&&t.removeAttr(x.loaderAttribute),t.data(c,!0),g(F,t),setTimeout(m,1),p=I.noop};t.off(z).one(z,o).one(S,p),g(n,t,function(e){e?(t.off(S),p()):(t.off(z),o())})||t.trigger(z)}else{var h=I(new Image);h.one(z,o).one(S,function(){t.hide(),e===L?t.attr(_,h.attr(_)).attr(N,h.attr(N)).attr(E,h.attr(E)):t.css(R,"url('"+h.attr(E)+"')"),t[x.effect](x.effectTime),d&&(t.removeAttr(s+" "+r+" "+l+" "+x.imageBaseAttribute),a!==_&&t.removeAttr(a)),t.data(c,!0),g(F,t),h.remove(),m()});var f=(b&&u?u:t.attr(s))||"";h.attr(_,t.attr(a)).attr(N,t.attr(r)).attr(E,f?i+f:null),h.complete&&h.trigger(S)}}function T(e){return e.tagName.toLowerCase()}function p(e,t){if(t){var i=e.split(",");e="";for(var n=0,o=i.length;n<o;n++)e+=t+i[n].trim()+(n!==o-1?",":"")}return e}function m(){--v,w.length||v||g("onFinishedAll")}function g(e,t,i){return!!(e=x[e])&&(e.apply(y,[].slice.call(arguments,1)),!0)}var v=0,C=-1,A=-1,b=!1,F="afterLoad",S="load",z="error",L="img",E="src",N="srcset",_="sizes",R="background-image";"event"===x.bind||s?i():I(q).on(S+"."+t,i)}function d(e,t){var i=this,n=I.extend({},i.config,t),o={},s=n.name+"-"+ ++a;return i.config=function(e,t){return t===h?n[e]:(n[e]=t,i)},i.addItems=function(e){return o.a&&o.a("string"===I.type(e)?I(e):e),i},i.getItems=function(){return o.g?o.g():{}},i.update=function(e){return o.e&&o.e({},!e),i},i.force=function(e){return o.f&&o.f("string"===I.type(e)?I(e):e),i},i.loadAll=function(){return o.e&&o.e({all:!0},!0),i},i.destroy=function(){return I(n.appendScroll).off("."+s,o.e),I(q).off("."+s),o={},h},r(i,n,e,o,s),n.chainable?e:i}var I=q.jQuery||q.Zepto,a=0,s=!1;I.fn.Lazy=I.fn.lazy=function(e){return new d(this,e)},I.Lazy=I.lazy=function(e,t,i){if(I.isFunction(t)&&(i=t,t=[]),I.isFunction(i)){e=I.isArray(e)?e:[e],t=I.isArray(t)?t:[t];for(var n=d.prototype.config,o=n._f||(n._f={}),s=0,r=e.length;s<r;s++)n[e[s]]!==h&&!I.isFunction(n[e[s]])||(n[e[s]]=i);for(var a=0,l=t.length;a<l;a++)o[t[a]]=e[0]}},d.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:q,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:h,afterLoad:h,onError:h,onFinishedAll:h},I(q).on("load",function(){s=!0})}(window),function(S){S.isScrollToFixed=function(e){return!!S(e).data("ScrollToFixed")},S.ScrollToFixed=function(e,t){var s=this;s.$el=S(e),s.el=e,s.$el.data("ScrollToFixed",s);var r,a,i,n,l=!1,d=s.$el,c=0,u=0,p=-1,h=-1,o=null;function f(){var e=s.options.limit;return e?"function"==typeof e?e.apply(d):e:0}function m(){return"fixed"===r}function g(){return"absolute"===r}function v(){return!(m()||g())}function b(){if(!m()){var e=d[0].getBoundingClientRect();o.css({display:d.css("display"),width:e.width,height:e.height,float:d.css("float")}),cssOptions={"z-index":s.options.zIndex,position:"fixed",top:-1==s.options.bottom?k():"",bottom:-1==s.options.bottom?"":s.options.bottom,"margin-left":"0px"},s.options.dontSetWidth||(cssOptions.width=d.css("width")),d.css(cssOptions),d.addClass(s.options.baseClassName),s.options.className&&d.addClass(s.options.className),r="fixed"}}function y(){var e=f(),t=u;s.options.removeOffsets&&(t="",e-=c),cssOptions={position:"absolute",top:e,left:t,"margin-left":"0px",bottom:""},s.options.dontSetWidth||(cssOptions.width=d.css("width")),d.css(cssOptions),r="absolute"}function x(){v()||(h=-1,o.css("display","none"),d.css({"z-index":n,width:"",position:a,left:"",top:i,"margin-left":""}),d.removeClass("scroll-to-fixed-fixed"),s.options.className&&d.removeClass(s.options.className),r=null)}function w(e){e!=h&&(d.css("left",u-e),h=e)}function k(){var e=s.options.marginTop;return e?"function"==typeof e?e.apply(d):e:0}function T(){if(S.isScrollToFixed(d)&&!d.is(":hidden")){var e=l,t=v();l?v()&&(c=d.offset().top,u=d.offset().left):(d.trigger("preUnfixed.ScrollToFixed"),x(),d.trigger("unfixed.ScrollToFixed"),h=-1,c=d.offset().top,u=d.offset().left,s.options.offsets&&(u+=d.offset().left-d.position().left),-1==p&&(p=u),r=d.css("position"),l=!0,-1!=s.options.bottom&&(d.trigger("preFixed.ScrollToFixed"),b(),d.trigger("fixed.ScrollToFixed")));var i=S(window).scrollLeft(),n=S(window).scrollTop(),o=f();s.options.minWidth&&S(window).width()<s.options.minWidth?v()&&e||(C(),d.trigger("preUnfixed.ScrollToFixed"),x(),d.trigger("unfixed.ScrollToFixed")):s.options.maxWidth&&S(window).width()>s.options.maxWidth?v()&&e||(C(),d.trigger("preUnfixed.ScrollToFixed"),x(),d.trigger("unfixed.ScrollToFixed")):-1==s.options.bottom?0<o&&n>=o-k()?t||g()&&e||(C(),d.trigger("preAbsolute.ScrollToFixed"),y(),d.trigger("unfixed.ScrollToFixed")):n>=c-k()?(m()&&e||(C(),d.trigger("preFixed.ScrollToFixed"),b(),h=-1,d.trigger("fixed.ScrollToFixed")),w(i)):v()&&e||(C(),d.trigger("preUnfixed.ScrollToFixed"),x(),d.trigger("unfixed.ScrollToFixed")):0<o?n+S(window).height()-d.outerHeight(!0)>=o-(k()||-(s.options.bottom?s.options.bottom:0))?m()&&(C(),d.trigger("preUnfixed.ScrollToFixed"),"absolute"===a?y():x(),d.trigger("unfixed.ScrollToFixed")):(m()||(C(),d.trigger("preFixed.ScrollToFixed"),b()),w(i),d.trigger("fixed.ScrollToFixed")):w(i)}}function C(){var e=d.css("position");"absolute"==e?d.trigger("postAbsolute.ScrollToFixed"):"fixed"==e?d.trigger("postFixed.ScrollToFixed"):d.trigger("postUnfixed.ScrollToFixed")}function A(e){d.is(":visible")?(l=!1,T()):x()}function F(e){window.requestAnimationFrame?requestAnimationFrame(T):T()}s.init=function(){s.options=S.extend({},S.ScrollToFixed.defaultOptions,t),n=d.css("z-index"),s.$el.css("z-index",s.options.zIndex),o=S("<div />"),r=d.css("position"),a=d.css("position"),d.css("float"),i=d.css("top"),v()&&s.$el.after(o),S(window).bind("resize.ScrollToFixed",A),S(window).bind("scroll.ScrollToFixed",F),"ontouchmove"in window&&S(window).bind("touchmove.ScrollToFixed",T),s.options.preFixed&&d.bind("preFixed.ScrollToFixed",s.options.preFixed),s.options.postFixed&&d.bind("postFixed.ScrollToFixed",s.options.postFixed),s.options.preUnfixed&&d.bind("preUnfixed.ScrollToFixed",s.options.preUnfixed),s.options.postUnfixed&&d.bind("postUnfixed.ScrollToFixed",s.options.postUnfixed),s.options.preAbsolute&&d.bind("preAbsolute.ScrollToFixed",s.options.preAbsolute),s.options.postAbsolute&&d.bind("postAbsolute.ScrollToFixed",s.options.postAbsolute),s.options.fixed&&d.bind("fixed.ScrollToFixed",s.options.fixed),s.options.unfixed&&d.bind("unfixed.ScrollToFixed",s.options.unfixed),s.options.spacerClass&&o.addClass(s.options.spacerClass),d.bind("resize.ScrollToFixed",function(){o.height(d.height())}),d.bind("scroll.ScrollToFixed",function(){d.trigger("preUnfixed.ScrollToFixed"),x(),d.trigger("unfixed.ScrollToFixed"),T()}),d.bind("detach.ScrollToFixed",function(e){!function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}(e),d.trigger("preUnfixed.ScrollToFixed"),x(),d.trigger("unfixed.ScrollToFixed"),S(window).unbind("resize.ScrollToFixed",A),S(window).unbind("scroll.ScrollToFixed",F),d.unbind(".ScrollToFixed"),o.remove(),s.$el.removeData("ScrollToFixed")}),A()},s.init()},S.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"},S.fn.scrollToFixed=function(e){return this.each(function(){new S.ScrollToFixed(this,e)})}}(jQuery),function(p){var h,f,m=p(window),n={},g=[],v=[],b=null,c="_open",y=[],x=null,u=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),w={_init:function(e){var t=p(e),i=t.data("popupoptions");v[e.id]=!1,g[e.id]=0,t.data("popup-initialized")||(t.attr("data-popup-initialized","true"),w._initonce(e)),i.autoopen&&setTimeout(function(){w.show(e,0)},0)},_initonce:function(i){var e,t,n,o,s=p(i),r=p("body"),a=s.data("popupoptions");b=parseInt(r.css("margin-right"),10),x=void 0!==document.body.style.webkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition||void 0!==document.body.style.OTransition||void 0!==document.body.style.transition,"tooltip"==a.type&&(a.background=!1,a.scrolllock=!1),a.backgroundactive&&(a.background=!1,a.blur=!1,a.scrolllock=!1),!a.scrolllock||void 0===h&&(o=(n=p('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body")).children(),h=o.innerWidth()-o.height(99).innerWidth(),n.remove());if(s.attr("id")||s.attr("id","j-popup-"+parseInt(1e8*Math.random(),10)),s.addClass("popup_content"),a.background&&!p("#"+i.id+"_background").length){r.append('<div id="'+i.id+'_background" class="popup_background"></div>');var l=p("#"+i.id+"_background");l.css({opacity:0,visibility:"hidden",backgroundColor:a.color,position:"fixed",top:0,right:0,bottom:0,left:0}),a.setzindex&&!a.autozindex&&l.css("z-index","100000"),a.transition&&l.css("transition",a.transition)}r.append(i),s.wrap('<div id="'+i.id+'_wrapper" class="popup_wrapper" />'),(e=p("#"+i.id+"_wrapper")).css({opacity:0,visibility:"hidden",position:"absolute"}),u&&e.css("cursor","pointer"),"overlay"==a.type&&e.css("overflow","auto"),s.css({opacity:0,visibility:"hidden",display:"inline-block"}),a.setzindex&&!a.autozindex&&e.css("z-index","100001"),a.outline||s.css("outline","none"),a.transition&&(s.css("transition",a.transition),e.css("transition",a.transition)),s.attr("aria-hidden",!0),"overlay"==a.type&&(s.css({textAlign:"left",position:"relative",verticalAlign:"middle"}),t={position:"fixed",width:"100%",height:"100%",top:0,left:0,textAlign:"center"},a.backgroundactive&&(t.position="absolute",t.height="0",t.overflow="visible"),e.css(t),e.append('<div class="popup_align" />'),p(".popup_align").css({display:"inline-block",verticalAlign:"middle",height:"100%"})),s.attr("role","dialog");var d=a.openelement?a.openelement:"."+i.id+c;p(d).each(function(e,t){p(t).attr("data-popup-ordinal",e),t.id||p(t).attr("id","open_"+parseInt(1e8*Math.random(),10))}),s.attr("aria-labelledby")||s.attr("aria-label")||s.attr("aria-labelledby",p(d).attr("id")),"hover"==a.action?(a.keepfocus=!1,p(d).on("mouseenter",function(e){w.show(i,p(this).data("popup-ordinal"))}),p(d).on("mouseleave",function(e){w.hide(i)})):p(document).on("click",d,function(e){e.preventDefault();var t=p(this).data("popup-ordinal");setTimeout(function(){w.show(i,t)},0)}),a.closebutton&&w.addclosebutton(i),a.detach?s.hide().detach():e.hide()},show:function(e,t){var i=p(e);if(!i.data("popup-visible")){i.data("popup-initialized")||w._init(e),i.attr("data-popup-initialized","true");var n=p("body"),o=i.data("popupoptions"),s=p("#"+e.id+"_wrapper"),r=p("#"+e.id+"_background");if(k(e,t,o.beforeopen),v[e.id]=t,setTimeout(function(){y.push(e.id)},0),o.autozindex){for(var a=document.getElementsByTagName("*"),l=a.length,d=0,c=0;c<l;c++){var u=p(a[c]).css("z-index");"auto"!==u&&d<(u=parseInt(u,10))&&(d=u)}g[e.id]=d,o.background&&0<g[e.id]&&p("#"+e.id+"_background").css({zIndex:g[e.id]+1}),0<g[e.id]&&s.css({zIndex:g[e.id]+2})}o.detach?(s.prepend(e),i.show()):s.show(),f=setTimeout(function(){s.css({visibility:"visible",opacity:1}),p("html").addClass("popup_visible").addClass("popup_visible_"+e.id),s.addClass("popup_wrapper_visible")},20),o.scrolllock&&(n.css("overflow","hidden"),n.height()>m.height()&&n.css("margin-right",b+h)),o.backgroundactive&&i.css({top:(m.height()-(i.get(0).offsetHeight+parseInt(i.css("margin-top"),10)+parseInt(i.css("margin-bottom"),10)))/2+"px"}),i.css({visibility:"visible",opacity:1}),o.background&&(r.css({visibility:"visible",opacity:o.opacity}),setTimeout(function(){r.css({opacity:o.opacity})},0)),i.data("popup-visible",!0),w.reposition(e,t),i.data("focusedelementbeforepopup",document.activeElement),o.keepfocus&&(i.attr("tabindex",-1),setTimeout(function(){"closebutton"===o.focuselement?p("#"+e.id+" ."+e.id+"_close:first").focus():o.focuselement?p(o.focuselement).focus():i.focus()},o.focusdelay)),p(o.pagecontainer).attr("aria-hidden",!0),i.attr("aria-hidden",!1),k(e,t,o.onopen),x?s.one("transitionend",function(){k(e,t,o.opentransitionend)}):k(e,t,o.opentransitionend),"tooltip"==o.type&&p(window).on("resize."+e.id,function(){w.reposition(e,t)})}},hide:function(t,e){var i=p.inArray(t.id,y);if(-1!==i){f&&clearTimeout(f);var n=p("body"),o=p(t),s=o.data("popupoptions"),r=p("#"+t.id+"_wrapper"),a=p("#"+t.id+"_background");o.data("popup-visible",!1),1===y.length?p("html").removeClass("popup_visible").removeClass("popup_visible_"+t.id):p("html").hasClass("popup_visible_"+t.id)&&p("html").removeClass("popup_visible_"+t.id),y.splice(i,1),r.hasClass("popup_wrapper_visible")&&r.removeClass("popup_wrapper_visible"),s.keepfocus&&!e&&setTimeout(function(){p(o.data("focusedelementbeforepopup")).is(":visible")&&o.data("focusedelementbeforepopup").focus()},0),r.css({visibility:"hidden",opacity:0}),o.css({visibility:"hidden",opacity:0}),s.background&&a.css({visibility:"hidden",opacity:0}),p(s.pagecontainer).attr("aria-hidden",!1),o.attr("aria-hidden",!0),k(t,v[t.id],s.onclose),x&&"0s"!==o.css("transition-duration")?o.one("transitionend",function(e){o.data("popup-visible")||(s.detach?o.hide().detach():r.hide()),s.scrolllock&&setTimeout(function(){n.css({overflow:"visible","margin-right":b})},10),k(t,v[t.id],s.closetransitionend)}):(s.detach?o.hide().detach():r.hide(),s.scrolllock&&setTimeout(function(){n.css({overflow:"visible","margin-right":b})},10),k(t,v[t.id],s.closetransitionend)),"tooltip"==s.type&&p(window).off("resize."+t.id)}},toggle:function(e,t){p(e).data("popup-visible")?w.hide(e):setTimeout(function(){w.show(e,t)},0)},reposition:function(e,t){var i=p(e),n=i.data("popupoptions"),o=p("#"+e.id+"_wrapper");p("#"+e.id+"_background");if(t=t||0,"tooltip"==n.type){var s;o.css({position:"absolute"});var r=(s=n.tooltipanchor?p(n.tooltipanchor):n.openelement?p(n.openelement).filter('[data-popup-ordinal="'+t+'"]'):p("."+e.id+c+'[data-popup-ordinal="'+t+'"]')).offset();"right"==n.horizontal?o.css("left",r.left+s.outerWidth()+n.offsetleft):"leftedge"==n.horizontal?o.css("left",r.left+s.outerWidth()-s.outerWidth()+n.offsetleft):"left"==n.horizontal?o.css("right",m.width()-r.left-n.offsetleft):"rightedge"==n.horizontal?o.css("right",m.width()-r.left-s.outerWidth()-n.offsetleft):o.css("left",r.left+s.outerWidth()/2-i.outerWidth()/2-parseFloat(i.css("marginLeft"))+n.offsetleft),"bottom"==n.vertical?o.css("top",r.top+s.outerHeight()+n.offsettop):"bottomedge"==n.vertical?o.css("top",r.top+s.outerHeight()-i.outerHeight()+n.offsettop):"top"==n.vertical?o.css("bottom",m.height()-r.top-n.offsettop):"topedge"==n.vertical?o.css("bottom",m.height()-r.top-i.outerHeight()-n.offsettop):o.css("top",r.top+s.outerHeight()/2-i.outerHeight()/2-parseFloat(i.css("marginTop"))+n.offsettop)}else"overlay"==n.type&&(n.horizontal?o.css("text-align",n.horizontal):o.css("text-align","center"),n.vertical?i.css("vertical-align",n.vertical):i.css("vertical-align","middle"))},addclosebutton:function(e){var t;t=p(e).data("popupoptions").closebuttonmarkup?p(n.closebuttonmarkup).addClass(e.id+"_close"):'<button class="popup_close '+e.id+'_close" title="Close" aria-label="Close"><span aria-hidden="true">Ã—</span></button>',p(e).data("popup-initialized")&&p(e).append(t)}},k=function(e,t,i){var n,o,s=p(e).data("popupoptions");void 0!==s&&(n=s.openelement?s.openelement:"."+e.id+c,o=p(n+'[data-popup-ordinal="'+t+'"]'),"function"==typeof i&&i.call(p(e),e,o))};p(document).on("keydown",function(e){if(y.length){var t=y[y.length-1],i=document.getElementById(t);p(i).data("popupoptions").escape&&27==e.keyCode&&w.hide(i)}}),p(document).on("click",function(e){if(y.length){var t=y[y.length-1],i=document.getElementById(t),n=p(i).data("popupoptions").closeelement?p(i).data("popupoptions").closeelement:"."+i.id+"_close";p(e.target).closest(n).length&&(e.preventDefault(),w.hide(i)),p(i).data("popupoptions")&&p(i).data("popupoptions").blur&&!p(e.target).closest("#"+t).length&&2!==e.which&&p(e.target).is(":visible")&&(p(i).data("popupoptions").background?(w.hide(i),e.preventDefault()):w.hide(i,!0))}}),p(document).on("keydown",function(e){if(y.length&&9==e.which){var t=y[y.length-1],i=document.getElementById(t),n=p(i).find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible"),o=p(":focus"),s=n.length,r=n.index(o);0===s?(p(i).focus(),e.preventDefault()):e.shiftKey?0===r&&(n.get(s-1).focus(),e.preventDefault()):r==s-1&&(n.get(0).focus(),e.preventDefault())}}),p.fn.popup=function(i){return this.each(function(){var e=p(this);if("object"==typeof i){var t=p.extend({},p.fn.popup.defaults,e.data("popupoptions"),i);e.data("popupoptions",t),n=e.data("popupoptions"),w._init(this)}else"string"==typeof i?(e.data("popupoptions")||(e.data("popupoptions",p.fn.popup.defaults),n=e.data("popupoptions")),w[i].call(this,this)):(e.data("popupoptions")||(e.data("popupoptions",p.fn.popup.defaults),n=e.data("popupoptions")),w._init(this))})},p.fn.popup.defaults={type:"overlay",autoopen:!1,background:!0,backgroundactive:!1,color:"black",opacity:"0.5",horizontal:"center",vertical:"middle",offsettop:0,offsetleft:0,escape:!0,blur:!0,setzindex:!0,autozindex:!1,scrolllock:!1,closebutton:!1,closebuttonmarkup:null,keepfocus:!0,focuselement:null,focusdelay:50,outline:!1,pagecontainer:null,detach:!1,openelement:null,closeelement:null,transition:null,tooltipanchor:null,beforeopen:null,onclose:null,onopen:null,opentransitionend:null,closetransitionend:null}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){var i;c.extend(c.fn,{validate:function(e){if(this.length){var n=c.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new c.validator(e,this[0]),c.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.submitButton=e.currentTarget,c(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==c(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(i){function e(){var e,t;return n.submitButton&&(n.settings.submitHandler||n.formSubmitted)&&(e=c("<input type='hidden'/>").attr("name",n.submitButton.name).val(c(n.submitButton).val()).appendTo(n.currentForm)),!(n.settings.submitHandler&&!n.settings.debug)||(t=n.settings.submitHandler.call(n,n.currentForm,i),e&&e.remove(),void 0!==t&&t)}return n.settings.debug&&i.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,e()):n.form()?n.pendingRequest?!(n.formSubmitted=!0):e():(n.focusInvalid(),!1)})),n)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,i;return c(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,t=c(this[0].form).validate(),this.each(function(){(e=t.element(this)&&e)||(i=i.concat(t.errorList))}),t.errorList=i),e},rules:function(e,t){var i,n,o,s,r,a,l=this[0],d=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=l&&(!l.form&&d&&(l.form=this.closest("form")[0],l.name=this.attr("name")),null!=l.form)){if(e)switch(i=c.data(l.form,"validator").settings,n=i.rules,o=c.validator.staticRules(l),e){case"add":c.extend(o,c.validator.normalizeRule(t)),delete o.messages,n[l.name]=o,t.messages&&(i.messages[l.name]=c.extend(i.messages[l.name],t.messages));break;case"remove":return t?(a={},c.each(t.split(/\s/),function(e,t){a[t]=o[t],delete o[t]}),a):(delete n[l.name],o)}return(s=c.validator.normalizeRules(c.extend({},c.validator.classRules(l),c.validator.attributeRules(l),c.validator.dataRules(l),c.validator.staticRules(l)),l)).required&&(r=s.required,delete s.required,s=c.extend({required:r},s)),s.remote&&(r=s.remote,delete s.remote,s=c.extend(s,{remote:r})),s}}}),c.extend(c.expr.pseudos||c.expr[":"],{blank:function(e){return!c.trim(""+c(e).val())},filled:function(e){var t=c(e).val();return null!==t&&!!c.trim(""+t)},unchecked:function(e){return!c(e).prop("checked")}}),c.validator=function(e,t){this.settings=c.extend(!0,{},c.validator.defaults,e),this.currentForm=t,this.init()},c.validator.format=function(i,e){return 1===arguments.length?function(){var e=c.makeArray(arguments);return e.unshift(i),c.validator.format.apply(this,e)}:(void 0===e||(2<arguments.length&&e.constructor!==Array&&(e=c.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),c.each(e,function(e,t){i=i.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})})),i)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==c.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,i){"radio"===e.type?this.findByName(e.name).addClass(t).removeClass(i):c(e).addClass(t).removeClass(i)},unhighlight:function(e,t,i){"radio"===e.type?this.findByName(e.name).removeClass(t).addClass(i):c(e).removeClass(t).addClass(i)}},setDefaults:function(e){c.extend(c.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");if(!this.form&&t&&(this.form=c(this).closest("form")[0],this.name=c(this).attr("name")),s===this.form){var i=c.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),o=i.settings;o[n]&&!c(this).is(o.ignore)&&o[n].call(i,this,e)}}this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,s=this.currentForm,n=this.groups={};c.each(this.settings.groups,function(i,e){"string"==typeof e&&(e=e.split(/\s/)),c.each(e,function(e,t){n[t]=i})}),i=this.settings.rules,c.each(i,function(e,t){i[e]=c.validator.normalizeRule(t)}),c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t,i,n=this.clean(e),o=this.validationTargetFor(n),s=this,r=!0;return void 0===o?delete this.invalid[n.name]:(this.prepareElement(o),this.currentElements=c(o),(i=this.groups[o.name])&&c.each(this.groups,function(e,t){t===i&&e!==o.name&&((n=s.validationTargetFor(s.clean(s.findByName(e))))&&n.name in s.invalid&&(s.currentElements.push(n),r=s.check(n)&&r))}),t=!1!==this.check(o),r=r&&t,this.invalid[o.name]=!t,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c(e).attr("aria-invalid",!t)),r},showErrors:function(t){if(t){var i=this;c.extend(this.errorMap,t),this.errorList=c.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=c.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===c.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var i=this,n={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||c(this).attr("name"),t=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");return!e&&i.settings.debug&&window.console&&console.error("%o has no name assigned",this),t&&(this.form=c(this).closest("form")[0],this.name=e),!(this.form!==i.currentForm||e in n||!i.objectLength(c(this).rules())||(n[e]=!0,0))})},clean:function(e){return c(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([])},reset:function(){this.resetInternals(),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t,i,n=c(e),o=e.type,s=void 0!==n.attr("contenteditable")&&"false"!==n.attr("contenteditable");return"radio"===o||"checkbox"===o?this.findByName(e.name).filter(":checked").val():"number"===o&&void 0!==e.validity?e.validity.badInput?"NaN":n.val():(t=s?n.text():n.val(),"file"===o?"C:\\fakepath\\"===t.substr(0,12)?t.substr(12):0<=(i=t.lastIndexOf("/"))?t.substr(i+1):0<=(i=t.lastIndexOf("\\"))?t.substr(i+1):t:"string"==typeof t?t.replace(/\r/g,""):t)},check:function(t){t=this.validationTargetFor(this.clean(t));var e,i,n,o,s=c(t).rules(),r=c.map(s,function(e,t){return t}).length,a=!1,l=this.elementValue(t);for(i in"function"==typeof s.normalizer?o=s.normalizer:"function"==typeof this.settings.normalizer&&(o=this.settings.normalizer),o&&(l=o.call(t,l),delete s.normalizer),s){n={method:i,parameters:s[i]};try{if("dependency-mismatch"===(e=c.validator.methods[i].call(this,l,t,n.parameters))&&1===r){a=!0;continue}if(a=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,n),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+n.method+"' method."),e}}if(!a)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(e,t){return c(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||c(e).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){"string"==typeof t&&(t={method:t});var i=this.findDefined(this.customMessage(e.name,t.method),this.customDataMessage(e,t.method),!this.settings.ignoreTitle&&e.title||void 0,c.validator.messages[t.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,t.parameters,e):n.test(i)&&(i=c.validator.format(i.replace(n,"{$1}"),t.parameters)),i},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var i,n,o,s,r=this.errorsFor(e),a=this.idOrName(e),l=c(e).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(t)):(i=r=c("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(i=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,c(e)):i.insertAfter(e),r.is("label")?r.attr("for",a):0===r.parents("label[for='"+this.escapeCssMeta(a)+"']").length&&(o=r.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(l+=" "+o):l=o,c(e).attr("aria-describedby",l),(n=this.groups[e.name])&&(s=this,c.each(s.groups,function(e,t){t===n&&c("[name='"+s.escapeCssMeta(e)+"']",s.currentForm).attr("aria-describedby",r.attr("id"))})))),!t&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,e)),this.toShow=this.toShow.add(r)},errorsFor:function(e){var t=this.escapeCssMeta(this.idOrName(e)),i=c(e).attr("aria-describedby"),n="label[for='"+t+"'], label[for='"+t+"'] *";return i&&(n=n+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(n)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),c(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return c(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return c("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!c(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!c.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,c(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],c(e).removeClass(this.settings.pendingClass),t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.submitButton&&c("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,t){return t="string"==typeof t&&t||"remote",c.data(e,"previousValue")||c.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:t})})},destroy:function(){this.resetForm(),c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:c.extend(this.classRuleSettings,e)},classRules:function(e){var t={},i=c(e).attr("class");return i&&c.each(i.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(t,c.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,i,n){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?e[i]=n:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(e){var t,i,n={},o=c(e),s=e.getAttribute("type");for(t in c.validator.methods)i="required"===t?(""===(i=e.getAttribute(t))&&(i=!0),!!i):o.attr(t),this.normalizeAttributeRule(n,s,t,i);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(e){var t,i,n={},o=c(e),s=e.getAttribute("type");for(t in c.validator.methods)""===(i=o.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()))&&(i=!0),this.normalizeAttributeRule(n,s,t,i);return n},staticRules:function(e){var t={},i=c.data(e.form,"validator");return i.settings.rules&&(t=c.validator.normalizeRule(i.settings.rules[e.name])||{}),t},normalizeRules:function(n,o){return c.each(n,function(e,t){if(!1!==t){if(t.param||t.depends){var i=!0;switch(typeof t.depends){case"string":i=!!c(t.depends,o.form).length;break;case"function":i=t.depends.call(o,o)}i?n[e]=void 0===t.param||t.param:(c.data(o.form,"validator").resetElements(c(o)),delete n[e])}}else delete n[e]}),c.each(n,function(e,t){n[e]=c.isFunction(t)&&"normalizer"!==e?t(o):t}),c.each(["minlength","maxlength"],function(){n[this]&&(n[this]=Number(n[this]))}),c.each(["rangelength","range"],function(){var e;n[this]&&(c.isArray(n[this])?n[this]=[Number(n[this][0]),Number(n[this][1])]:"string"==typeof n[this]&&(e=n[this].replace(/[\[\]]/g,"").split(/[\s,]+/),n[this]=[Number(e[0]),Number(e[1])]))}),c.validator.autoCreateRanges&&(null!=n.min&&null!=n.max&&(n.range=[n.min,n.max],delete n.min,delete n.max),null!=n.minlength&&null!=n.maxlength&&(n.rangelength=[n.minlength,n.maxlength],delete n.minlength,delete n.maxlength)),n},normalizeRule:function(e){if("string"==typeof e){var t={};c.each(e.split(/\s/),function(){t[this]=!0}),e=t}return e},addMethod:function(e,t,i){c.validator.methods[e]=t,c.validator.messages[e]=void 0!==i?i:c.validator.messages[e],t.length<3&&c.validator.addClassRules(e,c.validator.normalizeRule(e))},methods:{required:function(e,t,i){if(!this.depend(i,t))return"dependency-mismatch";if("select"!==t.nodeName.toLowerCase())return this.checkable(t)?0<this.getLength(e,t):null!=e&&0<e.length;var n=c(t).val();return n&&0<n.length},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:(i=!1,function(e,t){return i||(i=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())}),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,i){var n=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=n},maxlength:function(e,t,i){var n=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||n<=i},rangelength:function(e,t,i){var n=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||n>=i[0]&&n<=i[1]},min:function(e,t,i){return this.optional(t)||i<=e},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(e,t,i){function n(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0}function o(e){return Math.round(e*Math.pow(10,s))}var s,r=c(t).attr("type"),a="Step attribute on input type "+r+" is not supported.",l=new RegExp("\\b"+r+"\\b"),d=!0;if(r&&!l.test(["text","number","range"].join()))throw new Error(a);return s=n(i),(n(e)>s||o(e)%o(i)!=0)&&(d=!1),this.optional(t)||d},equalTo:function(e,t,i){var n=c(i);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(t).valid()}),e===n.val()},remote:function(s,r,e,a){if(this.optional(r))return"dependency-mismatch";a="string"==typeof a&&a||"remote";var l,t,i,d=this.previousValue(r,a);return this.settings.messages[r.name]||(this.settings.messages[r.name]={}),d.originalMessage=d.originalMessage||this.settings.messages[r.name][a],this.settings.messages[r.name][a]=d.message,e="string"==typeof e&&{url:e}||e,i=c.param(c.extend({data:s},e.data)),d.old===i?d.valid:(d.old=i,(l=this).startRequest(r),(t={})[r.name]=s,c.ajax(c.extend(!0,{mode:"abort",port:"validate"+r.name,dataType:"json",data:t,context:l.currentForm,success:function(e){var t,i,n,o=!0===e||"true"===e;l.settings.messages[r.name][a]=d.originalMessage,o?(n=l.formSubmitted,l.resetInternals(),l.toHide=l.errorsFor(r),l.formSubmitted=n,l.successList.push(r),l.invalid[r.name]=!1,l.showErrors()):(t={},i=e||l.defaultMessage(r,{method:a,parameters:s}),t[r.name]=d.message=i,l.invalid[r.name]=!0,l.showErrors(t)),d.valid=o,l.stopRequest(r,o)}},e)),"pending")}}});var n,o={};return c.ajaxPrefilter?c.ajaxPrefilter(function(e,t,i){var n=e.port;"abort"===e.mode&&(o[n]&&o[n].abort(),o[n]=i)}):(n=c.ajax,c.ajax=function(e){var t=("mode"in e?e:c.ajaxSettings).mode,i=("port"in e?e:c.ajaxSettings).port;return"abort"===t?(o[i]&&o[i].abort(),o[i]=n.apply(this,arguments),o[i]):n.apply(this,arguments)}),c}),function(d){d.fn.ihavecookies=function(e,t){var i=d(this),n=d.extend({cookieTypes:[{type:"Site Preferences",value:"preferences",description:"These are cookies that are related to your site preferences, e.g. remembering your username, site colours, etc."},{type:"Analytics",value:"analytics",description:"Cookies related to site visits, browser types, etc."},{type:"Marketing",value:"marketing",description:"Cookies related to marketing, e.g. newsletters, social media, etc"}],title:"Cookies & Privacy",message:"Cookies enable you to use shopping carts and to personalize your experience on our sites, tell us which parts of our websites people have visited, help us measure the effectiveness of ads and web searches, and give us insights into user behavior so we can improve our communications and products.",link:"/privacy-policy",delay:2e3,expires:30,moreInfoLabel:"More information",acceptBtnLabel:"Accept Cookies",advancedBtnLabel:"Customise Cookies",cookieTypesTitle:"Select cookies to accept",fixedCookieTypeLabel:"Necessary",fixedCookieTypeDesc:"These are cookies that are essential for the website to work correctly.",onAccept:function(){},uncheckBoxes:!1},e),o=p("cookieControl"),s=p("cookieControlPrefs");if(o&&s&&"reinit"!=t){var r=!0;"false"==o&&(r=!1),c(r,n.expires)}else{d("#gdpr-cookie-message").remove();var a='<li><input type="checkbox" name="gdpr[]" value="necessary" checked="checked" disabled="disabled"> <label title="'+n.fixedCookieTypeDesc+'">'+n.fixedCookieTypeLabel+"</label></li>";preferences=JSON.parse(s),d.each(n.cookieTypes,function(e,t){if(""!==t.type&&""!==t.value){var i="";!1!==t.description&&(i=' title="'+t.description+'"'),a+='<li><input type="checkbox" id="gdpr-cookietype-'+t.value+'" name="gdpr[]" value="'+t.value+'" data-auto="on"> <label for="gdpr-cookietype-'+t.value+'"'+i+">"+t.type+"</label></li>"}});var l='<div id="gdpr-cookie-message"><h4>'+n.title+"</h4><p>"+n.message+' <a href="'+n.link+'">'+n.moreInfoLabel+'</a><div id="gdpr-cookie-types" style="display:none;"><h5>'+n.cookieTypesTitle+"</h5><ul>"+a+'</ul></div><p><button id="gdpr-cookie-accept" type="button">'+n.acceptBtnLabel+'</button><button id="gdpr-cookie-advanced" type="button">'+n.advancedBtnLabel+"</button></p></div>";setTimeout(function(){d(i).append(l),d("#gdpr-cookie-message").hide().fadeIn("slow",function(){"reinit"==t&&(d("#gdpr-cookie-advanced").trigger("click"),d.each(preferences,function(e,t){d("input#gdpr-cookietype-"+t).prop("checked",!0)}))})},n.delay),d("body").on("click","#gdpr-cookie-accept",function(){c(!0,n.expires),d('input[name="gdpr[]"][data-auto="on"]').prop("checked",!0);var i=[];d.each(d('input[name="gdpr[]"]').serializeArray(),function(e,t){i.push(t.value)}),u("cookieControlPrefs",JSON.stringify(i),365),n.onAccept.call(this)}),d("body").on("click","#gdpr-cookie-advanced",function(){d('input[name="gdpr[]"]:not(:disabled)').attr("data-auto","off").prop("checked",!1),d("#gdpr-cookie-types").slideDown("fast",function(){d("#gdpr-cookie-advanced").prop("disabled",!0)})})}!0===n.uncheckBoxes&&d('input[type="checkbox"].ihavecookies').prop("checked",!1)},d.fn.ihavecookies.cookie=function(){var e=p("cookieControlPrefs");return JSON.parse(e)},d.fn.ihavecookies.preference=function(e){var t=p("cookieControl"),i=p("cookieControlPrefs");return i=JSON.parse(i),!1!==t&&!1!==i&&-1!==i.indexOf(e)};var c=function(e,t){u("cookieControl",e,t),d("#gdpr-cookie-message").fadeOut("fast",function(){d(this).remove()})},u=function(e,t,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var o="expires="+n.toUTCString();return document.cookie=e+"="+t+";"+o+";path=/",p(e)},p=function(e){for(var t=e+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return!1}}(jQuery),function(){var e,t,i,n,o,s,r,a,l,d;t=window.device,e={},window.device=e,n=window.document.documentElement,d=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&o("iphone")},e.ipod=function(){return o("ipod")},e.ipad=function(){return o("ipad")},e.android=function(){return!e.windows()&&o("android")},e.androidPhone=function(){return e.android()&&o("mobile")},e.androidTablet=function(){return e.android()&&!o("mobile")},e.blackberry=function(){return o("blackberry")||o("bb10")||o("rim")},e.blackberryPhone=function(){return e.blackberry()&&!o("tablet")},e.blackberryTablet=function(){return e.blackberry()&&o("tablet")},e.windows=function(){return o("windows")},e.windowsPhone=function(){return e.windows()&&o("phone")},e.windowsTablet=function(){return e.windows()&&o("touch")&&!e.windowsPhone()},e.fxos=function(){return(o("(mobile;")||o("(tablet;"))&&o("; rv:")},e.fxosPhone=function(){return e.fxos()&&o("mobile")},e.fxosTablet=function(){return e.fxos()&&o("tablet")},e.meego=function(){return o("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(o(television[e]))return!0;e++}return!1},e.portrait=function(){return 1<window.innerHeight/window.innerWidth},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},o=function(e){return-1!==d.indexOf(e)},r=function(e){var t;return t=new RegExp(e,"i"),n.className.match(t)},i=function(e){var t=null;r(e)||(t=n.className.replace(/^\s+|\s+$/g,""),n.className=t+" "+e)},l=function(e){r(e)&&(n.className=n.className.replace(" "+e,""))},e.ios()?e.ipad()?i("ios ipad tablet"):e.iphone()?i("ios iphone mobile"):e.ipod()&&i("ios ipod mobile"):e.android()?e.androidTablet()?i("android tablet"):i("android mobile"):e.blackberry()?e.blackberryTablet()?i("blackberry tablet"):i("blackberry mobile"):e.windows()?e.windowsTablet()?i("windows tablet"):e.windowsPhone()?i("windows mobile"):i("desktop"):e.fxos()?e.fxosTablet()?i("fxos tablet"):i("fxos mobile"):e.meego()?i("meego mobile"):e.nodeWebkit()?i("node-webkit"):e.television()?i("television"):e.desktop()&&i("desktop"),e.cordova()&&i("cordova"),s=function(){e.landscape()?(l("portrait"),i("landscape")):(l("landscape"),i("portrait"))},a=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(a,s,!1):window.attachEvent?window.attachEvent(a,s):window[a]=s,s(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);